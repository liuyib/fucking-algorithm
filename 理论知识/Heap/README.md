# 堆

## 基础

- 堆也是一棵树
- 最大堆、最小堆
- 二叉堆、N 叉堆

## 二叉堆

使用二叉树表示一个堆，称之为二叉堆。

### 满足条件

- 是一颗“完全二叉树”
- 任意一个节点的值:
  - 不大于父节点的值 - 最大堆
  - 不小于父节点的值 - 最小堆

> 完全二叉树：把节点按顺序，一层一层码放成一棵树

### 数据结构

由于是一颗完全二叉树，节点是紧密排列的，因此可以使用数组存放各个节点。

- 从 0 开始标号

```
                     (62) 0
               ↙               ↘
           (41) 1                (30) 2
        ↙         ↘             ↙     ↘
    (28) 3          (16) 4   (22) 5  (13) 6
  ↙      ↘         ↙
(19) 7  (17) 8   (15) 9
```

```
索引：0   1   2   3   4   5   6   7   8   9
值域：62  41  30  28  16  22  13  19  17  15
```

计算规则：

设某个节点的索引为 i，则：

- `parent(i) = Math.floor((i - 1) / 2)`
- `leftChild(i) = i * 2 + 1`
- `rightChild(i) = i * 2 + 2`

- 从 1 开始标号

```
                     (62) 1
               ↙               ↘
           (41) 2                (30) 3
        ↙         ↘             ↙     ↘
    (28) 4          (16) 5   (22) 6  (13) 7
  ↙      ↘         ↙
(19) 8  (17) 9   (15) 10
```

```
索引：0  1   2   3   4   5   6   7   8   9   10
值域：-  62  41  30  28  16  22  13  19  17  15
```

计算规则：

设某个节点的索引为 i，则：

- `parent(i) = Math.floor(i / 2)`
- `leftChild(i) = i * 2`
- `rightChild(i) = i * 2 + 1`

## 使用场景

- 用于实现优先队列
